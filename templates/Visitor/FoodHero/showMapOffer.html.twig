{{ dump(app.session.get('latitude')) }}
{% if app.session.get('latitude') is not empty %}
<a class="btn btn-outline-secondary col-10 col-sm-6 mx-1 my-2  text-center" target="_blank"
   href="https://www.google.com/maps/dir/{{ offer.association.fullAddress }}/{{ offer.company.fullAddress }}/{{ app.session.get('latitude') }},{{ app.session.get('longitude') }}">
    {% else %}
    <a class="btn btn-outline-secondary col-10 col-sm-6 mx-1 my-2  text-center" target="_blank"
       href="https://www.google.com/maps/dir/{{ offer.association.fullAddress }}/{{ offer.company.fullAddress }}">
    {%  endif %}
    <i class="fas fa-globe "></i> Carte
</a>
<button class="btn btn-block btn-outline-secondary col-10 col-sm-6 mx-1 my-2 text-center " data-toggle="modal"
        data-target="#CompanyModal">
    <i class="far fa-clock"></i> Entreprise
</button>
<button class="btn btn-outline-secondary col-10 col-sm-6 my-2 mx-1 text-center " data-toggle="modal"
        data-target="#AssoModal">
    <i class="far fa-clock "></i> Association
</button>

<!-- Modal -->
<div class="modal fade" id="CompanyModal" tabindex="-1" role="dialog" aria-labelledby="CompanyModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <section class="mx-5 my-3">
                <div class="row text-info">
                    <h3><i class="fas fa-book"></i> Entreprise</h3>
                </div>
                <div class="row justify-content-center ">
                    <table class="table table-striped table-borderless table-sm">
                        <tbody>
                        <tr>
                            <th>Nom</th>
                            <td>{{ offer.company.name }}</td>
                        </tr>
                        <tr>
                            <th>Type</th>
                            <td>{{ offer.company.type }}</td>
                        </tr>
                        <tr>
                            <th>Adresse</th>
                            <td>{{ offer.company.address }}</td>
                        </tr>
                        <tr>
                            <th>Code postal</th>
                            <td>{{ offer.company.postalCode }}</td>
                        </tr>
                        <tr>
                            <th>Ville</th>
                            <td>{{ offer.company.city }}</td>
                        </tr>
                        <tr>
                            <th>Téléphone</th>
                            <td>{{ offer.company.phone }}</td>
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td>{{ offer.company.email }}</td>
                        </tr>
                        </tbody>

                    </table>

                </div>
            </section>

            <section class="mx-5 my-3">
                <div class="row text-info">
                    <h3><i class="fas fa-clock"></i> Horaires</h3>
                </div>
                <div class="row justify-content-center">
                    <table class="table table-borderless table-sm table-striped">
                        <thead>
                        <tr>
                            <th class=""></th>
                            <td class=" text-center"><strong>Matin</strong></td>
                            <td class=" text-center"><strong>Après-midi</strong></td>
                        </tr>
                        </thead>
                        <tbody>

                        {% for shedule in offer.company.schedules %}
                            <tr>
                                <th>{{ shedule.day.name }}</th>
                                <td class="text-center">{% if shedule.openingAM== null and shedule.closingAM==null %} fermé {% else %} {{ shedule.openingAM|date('H:i') }}-{{ shedule.closingAM|date('H:i') }}{% endif %}</td>
                                <td class="text-center">{% if shedule.openingPM== null and shedule.closingPM==null %} fermé {% else %}{{ shedule.openingPM|date('H:i') }}-{{ shedule.closingPM|date('H:i') }}{% endif %}</td>
                            </tr>
                        {% endfor %}
                        </tbody>

                    </table>
                </div>
                <button type="button" class="col-6 offset-3 my-3 btn btn-secondary" data-dismiss="modal">Fermer</button>
            </section>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="AssoModal" tabindex="-1" role="dialog" aria-labelledby="AssoModal" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <section class="mx-5 my-3">
                <div class="row text-info">
                    <h3><i class="fas fa-book"></i> Association</h3>
                </div>
                <div class="row justify-content-center ">
                    <table class="table table-striped table-borderless table-sm">
                        <tbody>
                        <tr>
                            <th>Nom</th>
                            <td>{{ offer.association.name }}</td>
                        </tr>
                        <tr>
                            <th>Adresse</th>
                            <td>{{ offer.association.address }}</td>
                        </tr>
                        <tr>
                            <th>Code postal</th>
                            <td>{{ offer.association.postalCode }}</td>
                        </tr>
                        <tr>
                            <th>Ville</th>
                            <td>{{ offer.association.city }}</td>
                        </tr>
                        <tr>
                            <th>Téléphone</th>
                            <td>{{ offer.association.phone }}</td>
                        </tr>
                        <tr>
                            <th>Email</th>
                            <td>{{ offer.association.mail }}</td>
                        </tr>
                        </tbody>

                    </table>

                </div>
            </section>

            <section class="mx-5 my-3">
                <div class="row text-info">
                    <h3><i class="fas fa-clock"></i> Horaires</h3>
                </div>
                <div class="row justify-content-center">
                    <table class="table table-borderless table-sm table-striped">
                        <thead>
                        <tr>
                            <th class=""></th>
                            <td class=" text-center"><strong>Matin</strong></td>
                            <td class=" text-center"><strong>Après-midi</strong></td>
                        </tr>
                        </thead>
                        <tbody>

                        {% for shedule in offer.association.schedules %}
                            <tr>
                                <th>{{ shedule.day.name }}</th>
                                <td class="text-center">{% if shedule.openingAM== null and shedule.closingAM==null %} fermé {% else %} {{ shedule.openingAM|date('H:i') }}-{{ shedule.closingAM|date('H:i') }}{% endif %}</td>
                                <td class="text-center">{% if shedule.openingPM== null and shedule.closingPM==null %} fermé {% else %}{{ shedule.openingPM|date('H:i') }}-{{ shedule.closingPM|date('H:i') }}{% endif %}</td>
                            </tr>
                        {% endfor %}
                        </tbody>
                    </table>
                </div>
                <button type="button" class="col-6 offset-3 my-3 btn btn-secondary" data-dismiss="modal">Fermer</button>
            </section>
        </div>
    </div>
</div>
